<!DOCTYPE html>
<html ng-app="myApp">
<head>

    <meta charset="utf-8">
    <title>文档标题</title>
    <script  src="bower_components/angular/angular.js" type="text/javascript"> </script>
    <script>
    var app = angular.module("myApp", []);
    app.controller('mainCtrl',['$scope','$rootScope',function($scope,$rootScope){
        console.log("run in mainCtrl  $scope,$rootScope",$scope === $rootScope);
        console.log("run in mainCtrl  $scope,$rootScope",$scope);
        $scope.data = {'head':['1','2','3'],
                        'rows':[['a','b','c'],['x','y','z']]
                      }
        $scope.change = function(index){
            console.log(index)
            alert(index)
        }

    }]);
    app.directive("tabShow", function() {

        //var ctrl = function($scope){
        //    console.log("run in ctrl",$scope);
        //}
        //controller:ctrl,
        var _link = function(scope,ele,attr){
            console.log("run in _link",scope,ele,attr);
            scope.mychange=function(index){
                console.log(scope.change.toString())
                scope.change({index:index});
            }
        }
        return {
            restrict:'E',
            replace:true,
            scope:{ data:'=',
                    change:'&',
                    delete:'&',
                  },
            link:_link,
            templateUrl:'template/tab_show.html'
            };
});
    </script>
</head>

<body>
    <div ng-controller="mainCtrl">
        <tab-show data="data" change="change(index)">
        </tab-show>
    </div>
</body>

</html>
